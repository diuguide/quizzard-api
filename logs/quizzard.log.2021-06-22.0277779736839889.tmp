2021-06-23 10:52:07,296 INFO  [main] com.revature.quizzard.controllers.AccountControllerTest : Starting AccountsControllerTest on Jamess-MBP with PID 55640 (started by jamesfallon in /Users/jamesfallon/Desktop/Revature/210426-java-react-enterprise/quizzard-api)
2021-06-23 10:52:07,303 INFO  [main] com.revature.quizzard.controllers.AccountControllerTest : No active profile set, falling back to default profiles: default
2021-06-23 10:52:08,006 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-23 10:52:08,077 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54ms. Found 9 JPA repository interfaces.
2021-06-23 10:52:09,106 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-23 10:52:09,157 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 5.4.31.Final
2021-06-23 10:52:09,317 INFO  [main] org.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-23 10:52:09,420 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2021-06-23 10:52:09,632 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2021-06-23 10:52:09,652 INFO  [main] org.hibernate.dialect.Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-23 10:52:10,490 INFO  [main] org.hibernate.tool.schema.internal.SchemaCreatorImpl : HHH000476: Executing import script 'file:/Users/jamesfallon/Desktop/Revature/210426-java-react-enterprise/quizzard-api/target/classes/import.sql'
2021-06-23 10:52:10,503 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-23 10:52:10,511 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-23 10:52:10,698 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-23 10:52:11,904 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.WebSecurityConfig$$EnhancerBySpringCGLIB$$f9b0458b.generateUserApi invoked at 2021-06-23T10:52:11.899
2021-06-23 10:52:11,904 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Input arguments: []
2021-06-23 10:52:11,919 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.WebSecurityConfig$$EnhancerBySpringCGLIB$$f9b0458b.generateUserApi successfully returned at 2021-06-23T10:52:11.919
2021-06-23 10:52:11,919 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Object returned: springfox.documentation.spring.web.plugins.Docket@b671dda
2021-06-23 10:52:12,173 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2'. Database available at 'jdbc:h2:mem:test'
2021-06-23 10:52:12,398 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.FilterConfig$$EnhancerBySpringCGLIB$$a3bde5eb.corsRegistrationBean invoked at 2021-06-23T10:52:12.398
2021-06-23 10:52:12,398 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Input arguments: []
2021-06-23 10:52:12,405 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.FilterConfig$$EnhancerBySpringCGLIB$$a3bde5eb.corsRegistrationBean successfully returned at 2021-06-23T10:52:12.405
2021-06-23 10:52:12,405 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Object returned: filterRegistrationBean urls=[/*] order=2147483647
2021-06-23 10:52:12,412 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.FilterConfig$$EnhancerBySpringCGLIB$$a3bde5eb.JWTokenRegistrationBean invoked at 2021-06-23T10:52:12.412
2021-06-23 10:52:12,412 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Input arguments: []
2021-06-23 10:52:12,412 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.FilterConfig$$EnhancerBySpringCGLIB$$a3bde5eb.JWTokenRegistrationBean successfully returned at 2021-06-23T10:52:12.412
2021-06-23 10:52:12,412 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Object returned: filterRegistrationBean urls=[/*] order=2147483647
2021-06-23 10:52:12,502 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.WebSecurityConfig$$EnhancerBySpringCGLIB$$f9b0458b.passwordEncoder invoked at 2021-06-23T10:52:12.502
2021-06-23 10:52:12,502 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Input arguments: []
2021-06-23 10:52:12,503 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.WebSecurityConfig$$EnhancerBySpringCGLIB$$f9b0458b.passwordEncoder successfully returned at 2021-06-23T10:52:12.502
2021-06-23 10:52:12,503 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Object returned: org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder@147059f8
2021-06-23 10:52:12,742 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain : Creating filter chain: any request, [com.revature.quizzard.security.CorsFilter@714bffd5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78ea700f, org.springframework.security.web.context.SecurityContextPersistenceFilter@5111f814, org.springframework.security.web.header.HeaderWriterFilter@34647f58, org.springframework.security.web.authentication.logout.LogoutFilter@2f58f492, com.revature.quizzard.security.JWTokenFilter@4c41a177, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@491cc0eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37665305, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cd93621, org.springframework.security.web.session.SessionManagementFilter@7acb5200, org.springframework.security.web.access.ExceptionTranslationFilter@6738e8b2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3051e476]
2021-06-23 10:52:12,781 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.WebSecurityConfig$$EnhancerBySpringCGLIB$$f9b0458b.corsConfigurationSource invoked at 2021-06-23T10:52:12.781
2021-06-23 10:52:12,782 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Input arguments: []
2021-06-23 10:52:12,782 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.WebSecurityConfig$$EnhancerBySpringCGLIB$$f9b0458b.corsConfigurationSource successfully returned at 2021-06-23T10:52:12.782
2021-06-23 10:52:12,783 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Object returned: org.springframework.web.cors.UrlBasedCorsConfigurationSource@6fbcc078
2021-06-23 10:52:12,785 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.WebSecurityConfig$$EnhancerBySpringCGLIB$$f9b0458b.authenticationManagerBean invoked at 2021-06-23T10:52:12.785
2021-06-23 10:52:12,785 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Input arguments: []
2021-06-23 10:52:12,787 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.configs.WebSecurityConfig$$EnhancerBySpringCGLIB$$f9b0458b.authenticationManagerBean successfully returned at 2021-06-23T10:52:12.787
2021-06-23 10:52:12,787 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Object returned: org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator@7cf66cf9
2021-06-23 10:52:13,219 INFO  [main] org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor : Initializing ExecutorService 'applicationTaskExecutor'
2021-06-23 10:52:14,011 INFO  [main] com.revature.quizzard.controllers.AccountControllerTest : Started AccountsControllerTest in 6.984 seconds (JVM running for 8.046)
2021-06-23 10:52:14,013 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.Quizzard$$EnhancerBySpringCGLIB$$25288c82.run invoked at 2021-06-23T10:52:14.013
2021-06-23 10:52:14,014 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Input arguments: [org.springframework.boot.DefaultApplicationArguments@72c5064f]
2021-06-23 10:52:14,017 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.Quizzard$$EnhancerBySpringCGLIB$$25288c82.run successfully returned at 2021-06-23T10:52:14.017
2021-06-23 10:52:14,017 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Object returned: null
2021-06-23 10:52:14,059 INFO  [main] org.springframework.test.context.transaction.TransactionContext : Began transaction (1) for test context [DefaultTestContext@48e1f6c7 testClass = AccountsControllerTest, testInstance = com.revature.quizzard.controllers.AccountControllerTest@5db66c3, testMethod = updateAccountInfo@AccountsControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@55cb6996 testClass = AccountsControllerTest, locations = '{}', classes = '{class com.revature.quizzard.Quizzard}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b81ce95, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@52bf72b5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3febb011, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@130d63be, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@13b6d03], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@29174dfe]; rollback [true]
2021-06-23 10:52:14,166 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2021-06-23 10:52:14,166 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2021-06-23 10:52:14,185 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 19 ms
2021-06-23 10:52:14,269 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.security.JWTokenUtil.generateToken invoked at 2021-06-23T10:52:14.269
2021-06-23 10:52:14,270 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Input arguments: [AuthenticatedDTO(id=50, points=1, username=oldUser, roles=[RoleEntity(Id=50, name=Tester)])]
2021-06-23 10:52:14,380 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.security.JWTokenUtil.generateToken successfully returned at 2021-06-23T10:52:14.380
2021-06-23 10:52:14,380 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Object returned: eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJSZXZhdHVyZSBRdWl6emFyZCIsImp0aSI6IjUwIiwic3ViIjoib2xkVXNlciIsImlkIjoiNTAiLCJ1c2VyTmFtZSI6Im9sZFVzZXIiLCJyb2xlIjpbeyJuYW1lIjoiVGVzdGVyIiwiaWQiOjUwfV0sImlhdCI6MTYyNDQ1OTkzNCwiZXhwIjoxNjI0NDc3OTM0fQ.a0uwFdipe_076-QR0Ce4SXukdm29BNB8vbIMvyeZ25U
2021-06-23 10:52:14,505 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.controllers.AccountsController.updateAccount invoked at 2021-06-23T10:52:14.505
2021-06-23 10:52:14,505 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Input arguments: [AccountInfoDTO{username='newUser', email='null', password='null'}, org.springframework.mock.web.MockHttpServletRequest@9a16af1, org.springframework.mock.web.MockHttpServletResponse@47e70f54]
2021-06-23 10:52:14,508 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.security.JWTokenUtil.getIdFromToken invoked at 2021-06-23T10:52:14.508
2021-06-23 10:52:14,509 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Input arguments: [eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJSZXZhdHVyZSBRdWl6emFyZCIsImp0aSI6IjUwIiwic3ViIjoib2xkVXNlciIsImlkIjoiNTAiLCJ1c2VyTmFtZSI6Im9sZFVzZXIiLCJyb2xlIjpbeyJuYW1lIjoiVGVzdGVyIiwiaWQiOjUwfV0sImlhdCI6MTYyNDQ1OTkzNCwiZXhwIjoxNjI0NDc3OTM0fQ.a0uwFdipe_076-QR0Ce4SXukdm29BNB8vbIMvyeZ25U]
2021-06-23 10:52:14,530 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.security.JWTokenUtil.getIdFromToken successfully returned at 2021-06-23T10:52:14.530
2021-06-23 10:52:14,530 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Object returned: 50
2021-06-23 10:52:14,530 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.services.AccountService.updateAccountInfo invoked at 2021-06-23T10:52:14.530
2021-06-23 10:52:14,530 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Input arguments: [50, AccountInfoDTO{username='newUser', email='null', password='null'}]
2021-06-23 10:52:14,538 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.services.AccountService.updateAccountInfo successfully returned at 2021-06-23T10:52:14.538
2021-06-23 10:52:14,538 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Object returned: null
2021-06-23 10:52:14,539 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : class com.revature.quizzard.controllers.AccountsController.updateAccount successfully returned at 2021-06-23T10:52:14.539
2021-06-23 10:52:14,539 INFO  [main] com.revature.quizzard.aspects.LoggingAspect : Object returned: null
2021-06-23 10:52:14,562 INFO  [main] org.springframework.test.context.transaction.TransactionContext : Rolled back transaction for test: [DefaultTestContext@48e1f6c7 testClass = AccountsControllerTest, testInstance = com.revature.quizzard.controllers.AccountControllerTest@5db66c3, testMethod = updateAccountInfo@AccountsControllerTest, testException = java.lang.AssertionError: Status expected:<200> but was:<409>, mergedContextConfiguration = [WebMergedContextConfiguration@55cb6996 testClass = AccountsControllerTest, locations = '{}', classes = '{class com.revature.quizzard.Quizzard}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b81ce95, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@52bf72b5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3febb011, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@130d63be, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@13b6d03], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2021-06-23 10:52:14,587 INFO  [SpringContextShutdownHook] org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor : Shutting down ExecutorService 'applicationTaskExecutor'
2021-06-23 10:52:14,594 INFO  [SpringContextShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-06-23 10:52:14,597 INFO  [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2021-06-23 10:52:14,602 INFO  [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
